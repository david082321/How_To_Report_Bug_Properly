>沒有難以解決的Bug，只有難以解決的Bug報告。

** 如果您不想看完整版，可以[點我](#小結)去看超級精簡版。 **
我希望您花時間看完，這對您所使用的程式修復bug有很大幫助。
# 正文
當你報告Bug前，你需要注意以下幾點:
## “程式不好用”
程式員不是腦殘：如果程式**一點都不好用**，他們**不可能不知道**。
他們不知道一定是因為程式在他們看來工作得很正常。
所以，或者是您作過一些與他們不同的操作，或者是您的系統環境與他們不同。
**他們需要資訊**，報告bug也是為了提供資訊。資訊總是越多越好。
## “演示給我看”
報告bug的最好的方法之一是**“演示”給程式員看**。讓程式員站在電腦前，運行他們的程式，指出程式的錯誤。讓他們看著您啟動電腦、運行程式、如何進行操作以及程式對您的輸入有何反應。

他們對自己寫的軟體**瞭如指掌**，他們知道哪些地方不會出問題，而哪些地方最可能出問題。他們本能地知道應該注意什麼。在程式真的出錯之前，他們可能已經註意到某些地方不對勁，這些都會給他們一些線索。他們會觀察程式測試中的每一個細節，並且選出他們認為有用的資訊。

這些可能還不夠。也許他們覺得還需要更多的資訊，會請您重複剛才的操作。他們可能在這期間需要與您交流一下，以便在他們需要的時候讓bug重新出現。他們可能會改變一些操作，看看這個錯誤的產生是個別問題還是相關的一類問題。如果您不走運，他們可能需要坐下來，拿出一堆開發工具，花上幾個小時來好好地研究一下。但是最重​​要的是在程式出錯的時候讓程式員在電腦旁。一旦他們看到了問題，他們通常會找到原因並開始試著修改。

## “告訴我該怎麼做”
如今是網路時代，是資訊交流的時代。我可以點一下鼠標把自己的程式送到外國的某個朋友那裡，當然他也可以用同樣簡單的方法給我一些建議。但是如果我的程式出了什麼問題，我不可能在他旁邊。 “演示”是很好的辦法，但是常常做不到。

如果您必須報告bug，而此時程式員又不在您身邊，那麼您就要想辦法讓bug重現在他們面前。當他們親眼看到錯誤時，就能夠進行處理了。

確切地告訴程式員您做了些什麼。如果是一個圖形界面程式，告訴他們您按了哪個按鈕，依照什麼順序按的。如果是一個命令行程式，精確的告訴他們您鍵入了什麼命令。您應該盡可能詳細地提供您所鍵入的命令和程式的反應。

把您能想到的所有的輸入方式都告訴程式員，如果程式要讀取一個文件，您可能需要發一個文件的拷貝給他們。如果程式需要通過網路與另一台電腦通訊，您或許不能把那台電腦復製過去，但至少可以說一下電腦的類型和安裝了哪些軟體（如果可以的話）。
## “哪兒出錯了？在我看來一切正常哦！”
如果您給了程式員一長串輸入和指令，他們執行以後沒有出現錯誤，那是因為您沒有給他們足夠的資訊，可能錯誤不是在每台電腦上都出現，您的系統可能和他們的在某些地方不一樣。有時候程式的行為可能和您預想的不一樣，這也許是誤會，但是您會認為程式出錯了，程式員卻認為這是對的。

同樣也要描述發生了什麼。精確的描述您看到了什麼。告訴他們為什麼您覺得自己所看到的是錯誤的，最好再告訴他們，您認為自己應該看到什麼。如果您只是說：“程式出錯了”，那您很可能漏掉了非常重要的資訊。

如果您看到了錯誤消息，一定要仔細、準確的告訴程式員，這確實很重要。在這種情況下，程式員只要修正錯誤，而不用去找錯誤。他們需要知道是什麼出問題了，系統所報的錯誤消息正好幫助了他們。如果您沒有更好的方法記住這些消息，就把它們寫下來。只報告“程式出了一個錯”是毫無意義的，除非您把錯誤消息一塊報上來。

特殊情況下，如果有錯誤消息號，一定要把這些號碼告訴程式員。不要以為您看不出任何意義，它就沒有意義。錯誤消息號包含了能被程式員讀懂的各種資訊，並且很有可能包含重要的線索。給錯誤消息編號是因為用語言描述電腦錯誤常常令人費解。用這種方式告訴您錯誤的所在是一個最好的辦法。

在這種情形下，程式員的排錯工作會十分高效。他們不知道發生了什麼，也不可能到現場去觀察，所以他們一直在搜尋有價值的線索。錯誤消息、錯誤消息號以及一些莫名其妙的延遲，都是很重要的線索，就像辦案時的指紋一樣重要，保存好。
## “出了問題之後，我做了……”
當一個錯誤或bug發生的時候，您可能會做許多事情。但是大多數人會使事情變的更糟。我的一個朋友在學校裡誤刪了她所有的Word文件，在找人幫忙之前她重裝了Word，又運行了一遍碎片整理程式，這些操作對於恢復文件是毫無益處的，因為這些操作搞亂了磁盤的文件區塊。恐怕在這個世界上沒有一種反刪除軟體能恢復她的文件了。如果她不做任何操作，或許還有一線希望。

這種用戶彷彿一隻被逼到牆角的鼬（黃鼠狼、紫貂一類的動物——譯者註）：背靠牆壁，面對死亡的降臨奮起反撲，瘋狂攻擊。他們認為做點什麼總比什麼都不做強。然而這些在處理電腦軟體問題時並不適用。

不要做鼬，做一隻羚羊。當一隻羚羊面對料想不到的情況或受到驚嚇時，它會一動不動，是為了不吸引任何注意，與此同時也在思考解決問題的最好辦法（如果羚羊有一條技術支持熱線，此時佔線。）。然後，一旦它找到了最安全的行動方案，它便去做。

當程式出毛病的時候，立刻停止正在做的任何操作。不要按任何健。仔細地看一下屏幕，注意那些不正常的地方，記住它或者寫下來。然後慎重地點擊“確定” 或“取消”，選擇一個最安全的。學著養成一種條件反射——一旦電腦出了問題，先不要動。要想擺脫這個問題，關掉受影響的程式或者重新啟動電腦都不好，一個解決問題的好辦法是讓問題再次產生。程式員們喜歡可以被重現的問題，快樂的程式員可以更快而且更有效率的修復bug。
## “我想粒子的躍遷與錯誤的極化有關”
(意為自己猜測原因——譯者註)
並不只是非專業的用戶才會寫出拙劣的bug報告，我見過一些非常差的bug報告出自程式員之手，有些還是非常優秀的程式員。

有一次我與另一個程式員一起工作，他一直在找代碼中的bug，他常常遇到一個bug，但是不會解決，於是就叫我幫忙。 “出什麼毛病了？”我問。而他的回答卻總是一些關於bug的意見。如果他的觀點正確，那的確是一件好事。這意味著他已經完成了工作的一半，並且我們可以一起完成另一半工作。這是有效率並有用的。

但事實上他常常是錯的。這就會使我們花上半個小時在原本正確的代碼裡來回尋找錯誤，而實際上問題出在別的地方。我敢肯定他不會對醫生這麼做。 “大夫，我得了Hydroyoyodyne（真是怪病——譯者），給我開個方子”，人們知道不該對一位醫生說這些。您描述一下症狀，哪個地方不舒服，哪裡疼、起皮疹、發燒……讓醫生診斷您得了什麼病，應該怎樣治療。否則醫生會把您當做疑心病或精神病患者打發了，這似乎沒什麼不對。

做程式員也是一樣。即便您自己的“診斷”有時真的有幫助，也要只說“症狀”。 “診斷”是可說可不說的，但是“症狀”一定要說。同樣，在bug報告裡面附上一份針對bug而做出修改的源代碼是有用處的，但它並不能替代bug報告本身。

如果程式員向您詢問額外的資訊，千萬別應付。曾經有一個人向我報告bug，我讓他試一個命令，我知道這個命令不好用，但我是要看看程式會返回一個什麼錯誤（這是很重要的線索）。但是這位老兄根本就沒試，他在回復中說“那肯定不好用”，於是我又花了好些時間才說服他試了一下那個命令。

用戶多動動腦筋對程式員的工作是有幫助的。即使您的推斷是錯誤的，程式員也應該感謝您，至少您想去幫助他們，使他們的工作變的更簡單。不過千萬別忘了報告“症狀”，否則只會使事情變得更糟。
## “真是奇怪，剛才還不好用，怎麼現在又好了？”
“間歇性錯誤”著實讓程式員發愁。相比之下，進行一系列簡單的操作便能導致錯誤發生的問題是簡單的。程式員可以在一個便於觀察的條件下重複那些操作，觀察每一個細節。太多的問題在這種情況下不能解決，例如：程式每星期出一次錯，或者偶然出一次錯，或者在程式員面前從不出錯（程式員一離開就出錯。——譯者）。當然還有就是程式的截止日期到了，那肯定要出錯。

大多數“間歇性錯誤”並不是真正的“間歇”。其中的大多數錯誤與某些地方是有聯繫的。有一些錯誤可能是內存洩漏產生的，有一些可能是別的程式在不恰當的時候修改某個重要文件造成的，還有一些可能發生在每一個小時的前半個小時中（我確實遇到過這種事情）。

同樣，如果您能使bug重現，而程式員不能，那很有可能是他們的電腦和您的電腦在某些地方是不同的，這種不同引起了問題。我曾寫過一個程式，它的視窗可以蜷縮成一個小球呆在屏幕的左上角，它在別的電腦上只能在800x600 的解析度工作，但是在我的機器上卻可以在1024x768 下工作。

程式員想要了解任何與您發現的問題相關的事情。有可能的話您到另一台機器上試試，多試幾次，兩次，三次，看看問題是不是經常發生。如果問題出現在您進行了一系列操作之後，不是您想讓它出現它就會出現，這就有可能是長時間的運行或處理大文件所導致的錯誤。程式崩潰的時候，您要盡可能的記住您都做了些什麼，並且如果您看到任何圖形,也別忘了提一下。您提供的任何事情都是有幫助的。即使只是概括性的描述（例如：當後台有EMACS運行時，程式常常出錯），這雖然不能提供導致問題的直接線索，但是可能幫助程式員重現問題。

最重要的是：程式員想要確定他們正在處理的是一個真正的“間歇性錯誤”呢，還是一個在另一類特定的電腦上才出現的錯誤。他們想知道有關您電腦的許多細節，以便了解您的機器與他們的有什麼不同。有許多細節都依仗特定的程式，但是有一件東西您一定要提供——版本號。程式的版本、操作系統的版本以及與問題有關的程式的版本。
## “我把磁盤裝進了 Windows……”
表意清楚在一份bug報告裡是最基本的要求。如果程式員不知道您說的是什麼意思，那您就跟沒說一樣。我收到的bug報告來自世界各地，有許多是來自非英語國家，他們通常為自己的英文不好而表示歉意。總的來說，這些用戶發來的bug報告通常是清晰而且有用的。幾乎所有不清晰的bug報告都是來自母語是英語的人，他們總是以為只要自己隨便說說，程式員就能明白。

* 精確。如果做相同的事情有兩種方法，請說明您用的是哪一種。例如：“我選擇了'載入'”，可能意味著“我用鼠標點擊'載入'”或“我按下了'ALT+L'”，說清楚您用了哪種方法，有時候這也有關係。
* 詳細。資訊寧多毋少！如果您說了很多，程式員可以略去一部分，可是如果您說的太少，他們就不得不回過頭再去問您一些問題。有一次我收到了一份bug報告只有一句話，每一次我問他更多事情時，他每次的回复都是一句話，於是我花了幾個星期的時間才得到了有用的資訊。
* 慎用代詞。諸如“它”，“窗體”這些詞，當它們指代不清晰的時候不要用。來看看這句話：“我運行了FooApp，它彈出一個警告視窗，我試著關掉它，它就崩潰了。”這種表述並不清晰，用戶究竟關掉了哪個視窗？是警告視窗還是整個FooApp程式？您可以這樣說，“我運行FooApp程式時彈出一個警告視窗，我試著關閉警告視窗，FooApp崩潰了。”這樣雖然羅嗦點，但是很清晰不容易產生誤解。
* 檢查。重新讀一遍您寫的bug報告，您覺得它是否清晰？如果您列出了一系列能導致程式出錯的操作，那麼照著做一遍，看看您是不是漏寫了一步。
<h1 id="小結">小結</h3>

* bug報告的目的就是讓程式員親眼看到錯誤。
* 如果您做不到，詳細地給他們描述每一件事情：您看到了什麼，您想看到什麼，把錯誤消息記下來，尤其是“錯誤號”。
* 如果程式員需要，請準備好額外的資訊。如果他們不需要，就不會問您要。他們**不會故意為難你**。您手頭上一定要有程式的版本號、日誌等等，它很可能是必需品。
* 表述清楚，確保您的意思不能被曲解，盡量少用"它""這個東西"等詞語。
* 總的來說，最重要的是要做到**精確**。 **程式員喜歡精確**。
  
* ~~當您的電腦做了什麼您料想不到的事，不要動！在您平靜下來之前什麼都別做。不要做您認為不安全的事。 ~~
